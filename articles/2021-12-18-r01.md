---
title: "GPU(Jetson nano)をコンテナ・k8s-Pod内から使ってみる"
emoji: "😽"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["jetson","docker","kubernetes"]
published: true
---

とりあえずdockerコンテナ内からgpu見れることは確認できました。  
```sh
# timeoutつけないと処理が終了しないので注意
sudo docker run --runtime runc -v /usr/bin/tegrastats:/usr/bin/tegrastats --rm -it ubuntu:20.04 timeout 10 tegrastats
```

kubernetes上のPodでもやってみます。  

# GPUリソースとしてのスケジューリングについて
以下の内容についてですが... 
https://kubernetes.io/ja/docs/tasks/manage-gpus/scheduling-gpus/#deploying-nvidia-gpu-device-plugin  

現状、arm用のイメージは提供されていないため、使用できないということです。  
```
Failed to pull image "nvidia/k8s-device-plugin:1.0.0-beta4": rpc error: code = Unknown desc = no matching manifest for linux/arm64/v8 in the manifest list entries
```

# 備考

https://qiita.com/tkusumi/items/f275f0737fb5b261a868
https://ensekitt.hatenablog.com/entry/2019/05/27/200000